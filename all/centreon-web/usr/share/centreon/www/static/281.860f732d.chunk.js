(self.webpackChunkname=self.webpackChunkname||[]).push([[281],{32022:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(67294),a=r(94184),o=r.n(a),n=r(50455);const i=e=>{var{className:t,children:r,isError:a,tagName:i}=e,l=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]])}return r}(e,["className","children","isError","tagName"]);return s.createElement(i,Object.assign({className:o()(n.Z.field__msg,n.Z[t],{[n.Z["field__msg--error"]]:!!a})},l),r)};i.defaultProps={className:"",isError:!0,tagName:"div"};const l=i},91637:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var s=r(67294),a=r(45697),o=r.n(a),n=r(94184),i=r.n(n),l=r(50455);var c=r(32022);let m=0;const u=e=>{class t extends s.Component{constructor(e){super(e),this.state={isFocused:!1},["getId","handleFocus","handleBlur","isInputValue","renderError"].map((e=>this[e]=this[e].bind(this)))}handleFocus(e){const{input:{onFocus:t}}=this.props;this.setState({isFocused:!0}),t&&t(e)}handleBlur(){const{input:{onBlur:e,value:t}}=this.props;if(this.setState({isFocused:!1}),e)return e(t)}getId(){const{name:e}=this.props.input;return this.fieldId||(this.fieldId=++m),`field-${e}-${this.fieldId}`}isInputValue(e){return null!=e&&""!==e}renderError(){const{meta:{touched:e,error:t}}=this.props;return e&&t?s.createElement(c.Z,null,(e=>{if("string"==typeof e)return e;const{name:t,type:r,value:s,message:a}=e;if(a)return a;switch(r){case"required":return`${t||"This field"} is required`;case"email":return"Please enter a valid email address";case"maxLength":return Array.isArray(s)?`${t||"Field"} must have at most ${e.maxLength} items`:`${t||"Field"} must be at most ${e.maxLength} characters long`;case"minLength":return Array.isArray(s)?`${t||"Field"} must have at least ${e.minLength} items`:`${t||"Field"} must be at least ${e.minLength} characters long`;case"invalidDate":return`${t||"Field"} is not valid`;default:return`${t||"Field"} is invalid. Reason: ${e.reason}`}})(t)):null}render(){const{isFocused:t}=this.state,r=this.props,{input:a,meta:o,label:n,autoComplete:c}=r,m=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]])}return r}(r,["input","meta","label","autoComplete"]),u="off"===c?{autoComplete:this.getId()}:{};return s.createElement(e,Object.assign({className:i()(l.Z.field,{[l.Z["has-danger"]]:o.invalid&&o.touched},{[l.Z["has-value"]]:this.isInputValue(a.value)},{[l.Z["has-focus"]]:t})},a,m,u,{error:this.renderError(),id:this.getId(),label:n,onBlur:this.handleBlur,onFocus:this.handleFocus}))}}return t.displayName=`FieldHoc(${e.displayName})`,t.propTypes={input:o().object.isRequired,label:o().string,meta:o().object.isRequired,onBlur:o().func,onFocus:o().func},t}},75481:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(67294);const a=(0,r(41120).Z)((e=>({page:{backgroundColor:e.palette.common.white,padding:e.spacing(2,0)}}))),o=({children:e})=>{const t=a();return s.createElement("div",{className:t.page},e)}},91395:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var s=r(67294),a=r(14494),o=r(94184),n=r.n(o),i=r(12971);const l={"progress-bar":"progress-bar__3ExoA","progress-bar-items":"progress-bar-items__19zW7","progress-bar-item":"progress-bar-item__1Bp7Q","progress-bar-link":"progress-bar-link__Db6pc",active:"active__1Rb7k",prev:"prev__9yZj4"};class c extends s.Component{constructor(){super(...arguments),this.goToPath=e=>{i.m.push(e)}}render(){const{links:e}=this.props;return s.createElement("div",{className:l["progress-bar"]},s.createElement("div",{className:l["progress-bar-wrapper"]},s.createElement("ul",{className:l["progress-bar-items"]},e?e.map((e=>s.createElement("li",{className:l["progress-bar-item"],key:e.path,onClick:this.goToPath.bind(this,e.path)},s.createElement("span",{className:n()(l["progress-bar-link"],{[l.active]:e.active},{[l.prev]:e.prevActive})},e.number)))):null)))}}const m=(0,a.connect)((()=>({})),{})(c)},24281:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Z});var s=r(67294),a=r(14494),o=r(91755),n=r(65399),i=r(15958),l=r(10876),c=r(91768),m=r(50455),u=r(91637);class p extends s.Component{constructor(){super(...arguments),this.state={value:[]},this.handleChange=(e,t)=>{this.setState({value:t})}}render(){const{error:e,handleSubmit:t,onSubmit:r,pollers:a,t:o}=this.props,{value:i}=this.state;return s.createElement("div",{className:m.Z["form-wrapper"]},s.createElement("div",{className:m.Z["form-inner"]},s.createElement("div",{className:m.Z["form-heading"]},s.createElement("h2",{className:m.Z["form-title"]},o("Select pollers to be attached to this new Remote Server"))),s.createElement("form",{autoComplete:"off",onSubmit:t(r)},a?s.createElement(n.Z,{isMulti:!0,multi:!0,component:(0,u.Z)(l.ZP),label:`${o("Select linked Remote Server")}:`,name:"linked_pollers",options:a.items.map((e=>({label:e.text,value:e.id}))),value:i,onChange:this.handleChange}):null,s.createElement("div",{className:m.Z["form-buttons"]},s.createElement("button",{className:m.Z.button,type:"submit"},o("Apply"))),e?s.createElement("div",{className:m.Z["error-block"]},e.message):null)))}}const d=(0,c.Z)()((0,i.Z)({destroyOnUnmount:!1,enableReinitialize:!0,form:"RemoteServerFormStepTwo",keepDirtyOnReinitialize:!0})(p));var h=r(40346),_=r(91395),f=r(66791),b=r(93784),g=r(75481);class v extends s.Component{constructor(){super(...arguments),this.state={pollers:null},this.links=[{active:!0,number:1,path:h.Z.serverConfigurationWizard,prevActive:!0},{active:!0,number:2,path:h.Z.remoteServerStep1,prevActive:!0},{active:!0,number:3},{active:!1,number:4}],this.pollerListApi=(0,f.Z)("internal.php?object=centreon_configuration_poller&action=list"),this.wizardFormApi=(0,f.Z)("internal.php?object=centreon_configuration_remote&action=linkCentreonRemoteServer"),this._spliceOutDefaultPoller=e=>{for(let t=0;t<e.items.length;t++)"1"===e.items[t].id&&e.items.splice(t,1);return e},this._filterOutDefaultPoller=(e,t)=>{t(this._spliceOutDefaultPoller(e))},this.getPollers=()=>{this.pollerListApi.get().then((e=>{this._filterOutDefaultPoller(e.data,(e=>{this.setState({pollers:e})}))}))},this.componentDidMount=()=>{this.getPollers()},this.handleSubmit=e=>{const{history:t,pollerData:r,setPollerWizard:s}=this.props,a=Object.assign(Object.assign({},e),r);return a.server_type="remote",this.wizardFormApi.post("",a).then((e=>{e.data.success&&e.data.task_id?(s({submitStatus:e.data.success,taskId:e.data.task_id}),t.push(h.Z.remoteServerStep3)):t.push(h.Z.pollerList)})).catch((e=>{throw new o.t({_error:new Error(e.response.data)})}))}}render(){const{links:e}=this,{pollers:t}=this.state;return s.createElement(g.Z,null,s.createElement(_.Z,{links:e}),s.createElement(d,{pollers:t,onSubmit:this.handleSubmit}))}}const y={setPollerWizard:b.b},Z=(0,a.connect)((({pollerForm:e})=>({pollerData:e})),y)(v)},50455:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});const s={"mb-2":"mb-2__3ziC8","list-unstyled":"list-unstyled__22dT_","half-opacity":"half-opacity__pVrav",hidden:"hidden__2MmTV","hidden-input":"hidden-input__17ABM",form:"form__2Eo40","form-wrapper":"form-wrapper__3Vj5F","invalid-feedback":"invalid-feedback__861fm",field__msg:"field__msg__2bkLY","css-1aya2g8":"css-1aya2g8__3Mj2-","css-2o5izw":"css-2o5izw__vgrW9",installation:"installation__2tyHH","form-text":"form-text__38UQT","form-status":"form-status__1Jizt",valid:"valid__TnZJh",failed:"failed__Pj07C","form-error-message":"form-error-message__3733_","form-group":"form-group__eh-xb","form-control":"form-control__1di15",select:"select__2p_Pd","form-heading":"form-heading__1HUPk","form-title":"form-title__3zm4r","form-item":"form-item__2fci6","form-buttons":"form-buttons__bCZYt",button:"button__OpHrr","custom-checkbox":"custom-checkbox__3HsKc","custom-radio":"custom-radio__3atRb","custom-control":"custom-control__10jfe","form-check-input":"form-check-input__3A16L","custom-control-input":"custom-control-input__lHvVk","custom-control-label":"custom-control-label__pOdWy","error-block":"error-block__1jL9V","css-10odw4q":"css-10odw4q__3s7Y1","css-1492t68":"css-1492t68__3OcCx","css-10nd86i":"css-10nd86i__3fhBC"}}}]);